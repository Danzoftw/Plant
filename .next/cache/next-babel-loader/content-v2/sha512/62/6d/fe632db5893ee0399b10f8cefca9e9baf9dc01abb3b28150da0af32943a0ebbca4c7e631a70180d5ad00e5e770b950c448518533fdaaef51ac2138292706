{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from 'next/link';\nimport Layout from \"../components/Layout\";\nimport { withRouter } from 'next/router';\nimport client from \"../components/ApolloClient\";\nimport gql from 'graphql-tag';\nconst Product = withRouter(props => {\n  console.warn(props);\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: \"Product\"\n  });\n});\n\nProduct.getInitialProps = async function (context) {\n  let {\n    query: {\n      slug\n    }\n  } = context;\n  const id = slug ? parseInt(slug.split('-').pop()) : context.query.id;\n  const PRODUCTS_QUERY = gql` query Product( $id: Int ! ){\n        productBy( productId: $id){\n            id\n            databaseId\n            averageRating\n            slug\n            description\n            image {\n                uri\n                title\n                srcSet\n                sourceUrl\n            }\n            name\n        }\n    }`;\n  const res = await client.query({\n    query: PRODUCTS_QUERY,\n    variables: {\n      id\n    }\n  });\n  return {\n    product: res.data.productBy\n  };\n};\n\nexport default Product;","map":null,"metadata":{},"sourceType":"module"}